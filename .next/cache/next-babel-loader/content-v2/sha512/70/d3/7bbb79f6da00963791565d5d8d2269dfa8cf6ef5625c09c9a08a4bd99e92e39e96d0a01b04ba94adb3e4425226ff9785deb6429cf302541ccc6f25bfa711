{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Florent\\\\Desktop\\\\trello\\\\pages\\\\inscription.tsx\";\nimport { useState } from \"react\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport Fieldset from \"../components/Fieldset\";\nimport Form from \"../components/Form\";\nimport Link from 'next/link';\nimport { checkLength, checkPasswordEquality } from \"../utils/error-checker.ts\";\n\nconst Inscription = () => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: passwordRepeat,\n    1: setPasswordRepeat\n  } = useState('');\n  const {\n    0: error,\n    1: setError\n  } = useState({\n    isActive: false,\n    message: ''\n  });\n\n  const onSubmit = () => {\n    try {\n      if (!checkLength(password, 6)) throw new Error(\"Votre mot de passe doit contenir au moins 6 caractères.\");\n      if (!checkLength(email, 1)) throw new Error(\"Veuillez fournir une adresse email correcte.\");\n      if (!checkPasswordEquality(password, passwordRepeat)) throw new Error(\"Vos mots de passe ne correspondent pas.\");\n      setError({\n        isActive: false,\n        message: \"\"\n      });\n    } catch (e) {\n      setError({\n        isActive: true,\n        message: e.message\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      buttonName: \"Inscription\",\n      submitAction: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Fieldset, {\n        name: \"email\",\n        type: \"email\",\n        value: email,\n        onChange: event => {\n          setEmail(event.target.value);\n        },\n        label: \"Adresse email\",\n        autocomplete: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Fieldset, {\n        name: \"password\",\n        type: \"password\",\n        value: password,\n        onChange: event => {\n          setPassword(event.target.value);\n        },\n        label: \"Mot de passe\",\n        autocomplete: \"new-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Fieldset, {\n        name: \"passwordR\",\n        type: \"password\",\n        value: passwordRepeat,\n        onChange: event => {\n          setPasswordRepeat(event.target.value);\n        },\n        label: \"R\\xE9p\\xE9tez votre mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/connexion\",\n      children: \"D\\xE9j\\xE0 inscrit ?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), error.isActive && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      message: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true);\n};\n\nexport default Inscription;","map":{"version":3,"sources":["C:/Users/Florent/Desktop/trello/pages/inscription.tsx"],"names":["useState","ErrorMessage","Fieldset","Form","Link","checkLength","checkPasswordEquality","Inscription","email","setEmail","password","setPassword","passwordRepeat","setPasswordRepeat","error","setError","isActive","message","onSubmit","Error","e","event","target","value"],"mappings":"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","sourcesContent":["import { ChangeEvent, useState } from \"react\";\r\nimport ErrorMessage from \"../components/ErrorMessage\";\r\nimport Fieldset from \"../components/Fieldset\";\r\nimport Form from \"../components/Form\";\r\nimport Link from 'next/link';\r\nimport { checkLength, checkPasswordEquality } from \"../utils/error-checker.ts\";\r\n\r\nconst Inscription = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [passwordRepeat, setPasswordRepeat] = useState('');\r\n\r\n    const [error, setError] = useState({\r\n        isActive: false,\r\n        message: ''\r\n    });\r\n\r\n    const onSubmit = () => {\r\n        try{\r\n            if(!checkLength(password, 6)) throw new Error(\"Votre mot de passe doit contenir au moins 6 caractères.\");\r\n            if(!checkLength(email, 1)) throw new Error(\"Veuillez fournir une adresse email correcte.\");\r\n            if(!checkPasswordEquality(password, passwordRepeat)) throw new Error(\"Vos mots de passe ne correspondent pas.\");\r\n            setError({\r\n                isActive: false,\r\n                message: \"\"\r\n            });\r\n        } catch (e){\r\n            setError({\r\n                isActive: true,\r\n                message: e.message\r\n            });\r\n        }\r\n    }    \r\n\r\n    return (\r\n    <>\r\n        <Form buttonName=\"Inscription\" submitAction={ onSubmit }>\r\n            <Fieldset \r\n                name=\"email\" \r\n                type=\"email\" \r\n                value={email} \r\n                onChange={(event:ChangeEvent<HTMLInputElement>) => { \r\n                    setEmail(event.target.value)\r\n                } }\r\n                label=\"Adresse email\"\r\n                autocomplete=\"email\"\r\n            />\r\n            <Fieldset \r\n                name=\"password\" \r\n                type=\"password\" \r\n                value={password} \r\n                onChange={(event:ChangeEvent<HTMLInputElement>) => { \r\n                    setPassword(event.target.value)\r\n                } }\r\n                label=\"Mot de passe\"\r\n                autocomplete=\"new-password\"\r\n            />\r\n            <Fieldset \r\n                name=\"passwordR\" \r\n                type=\"password\" \r\n                value={passwordRepeat} \r\n                onChange={(event:ChangeEvent<HTMLInputElement>) => { \r\n                    setPasswordRepeat(event.target.value)\r\n                } }\r\n                label=\"Répétez votre mot de passe\"\r\n            />\r\n        </Form>\r\n        <Link href=\"/connexion\">Déjà inscrit ?</Link>\r\n        { error.isActive && <ErrorMessage message={ error.message }/> }\r\n    </>\r\n)};\r\n\r\nexport default Inscription;"]},"metadata":{},"sourceType":"module"}